{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section text-center mb-5">
    <div class="hero-content">
        <h1 class="hero-title">
            <i class="fas fa-graduation-cap me-3"></i>
            Little Flower OMR Generator
        </h1>
        <p class="hero-subtitle lead">
            Professional OMR answer sheets designed by <strong>Afzal Moin</strong> for Little Flower School
        </p>
    </div>
</div>

<div class="row">
    <div class="col-lg-8 mx-auto">
        <div class="card shadow-lg border-0">
            <div class="card-header bg-gradient-primary text-white">
                <h2 class="card-title mb-0 text-white">
                    <i class="fas fa-file-pdf me-2"></i>
                    Generate Custom OMR Answer Sheet
                </h2>
            </div>
            <div class="card-body">
                <p class="text-muted mb-4">
                    Create professional OMR answer sheets with customizable parameters. 
                    Perfect for schools, coaching institutes, and examination boards.
                </p>

                <form method="POST" action="{{ url_for('generate') }}" enctype="multipart/form-data" id="omrForm">
                    <div class="row g-3">
                        <!-- School/Institution Details -->
                        <div class="col-12 col-md-6">
                            <label for="school_name" class="form-label">
                                <i class="fas fa-school me-2"></i>
                                School/Institution Name *
                            </label>
                            <input type="text" class="form-control" id="school_name" name="school_name" 
                                   placeholder="e.g., Little Flowers' School" required maxlength="100">
                            <div class="form-text">
                                <i class="fas fa-info-circle me-1"></i>
                                This will appear as the main header on your OMR sheet
                            </div>
                        </div>

                        <div class="col-12 col-md-6">
                            <label for="exam_name" class="form-label">
                                <i class="fas fa-clipboard-list me-2"></i>
                                Exam Name *
                            </label>
                            <input type="text" class="form-control" id="exam_name" name="exam_name" 
                                   placeholder="e.g., JEE-Main, Mid-Term Exam" required maxlength="50">
                            <div class="form-text">
                                <i class="fas fa-info-circle me-1"></i>
                                Specific name of the examination or test
                            </div>
                        </div>
                    </div>

                    <!-- Subjects Configuration -->
                    <div class="mb-3">
                        <label for="subjects" class="form-label">
                            <i class="fas fa-book me-1"></i>
                            Subjects *
                        </label>
                        <input type="text" class="form-control" id="subjects" name="subjects" 
                               placeholder="Physics, Chemistry, Botany, Zoology" required>
                        <div class="form-text">
                            Enter subjects separated by commas. Maximum 5 subjects allowed.
                            <br><strong>JEE Example:</strong> Physics, Chemistry, Mathematics
                            <br><strong>NEET Example:</strong> Physics, Chemistry, Botany, Zoology
                        </div>
                    </div>

                    <div class="row g-3">
                        <!-- Questions and Options -->
                        <div class="col-12 col-md-6">
                            <label for="questions_per_subject" class="form-label">
                                <i class="fas fa-question-circle me-2"></i>
                                Questions per Subject
                            </label>
                            <select class="form-select" id="questions_per_subject" name="questions_per_subject">
                                <option value="10">10 Questions</option>
                                <option value="15">15 Questions</option>
                                <option value="20">20 Questions</option>
                                <option value="25" selected>25 Questions ⭐ Popular</option>
                                <option value="30">30 Questions</option>
                                <option value="40">40 Questions</option>
                                <option value="45">45 Questions (NEET Standard)</option>
                                <option value="50">50 Questions</option>
                                <option value="75">75 Questions</option>
                                <option value="100">100 Questions</option>
                            </select>
                        </div>

                        <div class="col-12 col-md-6">
                            <label for="num_options" class="form-label">
                                <i class="fas fa-list me-2"></i>
                                Answer Options
                            </label>
                            <select class="form-select" id="num_options" name="num_options">
                                <option value="2">2 Options (A, B)</option>
                                <option value="3">3 Options (A, B, C)</option>
                                <option value="4" selected>4 Options (A, B, C, D) ⭐ Standard</option>
                                <option value="5">5 Options (A, B, C, D, E)</option>
                                <option value="6">6 Options (A, B, C, D, E, F)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Logo Upload -->
                    <div class="mb-4">
                        <label for="logo" class="form-label">
                            <i class="fas fa-image me-1"></i>
                            Institution Logo (Optional)
                        </label>
                        <input type="file" class="form-control" id="logo" name="logo" 
                               accept=".png,.jpg,.jpeg,.gif">
                        <div class="form-text">
                            Upload your institution's logo. Supported formats: PNG, JPG, JPEG, GIF (Max: 5MB)
                        </div>
                    </div>

                    <!-- Preview Section -->
                    <div class="card bg-light mb-4" id="previewCard" style="display: none;">
                        <div class="card-header">
                            <h6 class="card-title mb-0">
                                <i class="fas fa-eye me-1"></i>
                                Preview Configuration
                            </h6>
                        </div>
                        <div class="card-body">
                            <div id="previewContent"></div>
                        </div>
                    </div>

                    <!-- Quick Templates -->
                    <div class="mb-4">
                        <h6 class="fw-bold mb-3 d-flex align-items-center">
                            <i class="fas fa-magic me-2"></i>
                            Quick Templates
                            <span class="badge bg-info ms-2 fs-6">Popular</span>
                        </h6>
                        <div class="row g-3">
                            <div class="col-12 col-md-6">
                                <button type="button" class="btn btn-outline-primary w-100 py-3" id="jeeTemplate">
                                    <i class="fas fa-rocket me-2"></i>
                                    <div class="d-block">
                                        <div class="fw-bold">JEE Template</div>
                                        <small>Physics, Chemistry, Mathematics (25 Q each)</small>
                                    </div>
                                </button>
                            </div>
                            <div class="col-12 col-md-6">
                                <button type="button" class="btn btn-outline-success w-100 py-3" id="neetTemplate">
                                    <i class="fas fa-stethoscope me-2"></i>
                                    <div class="d-block">
                                        <div class="fw-bold">NEET Template</div>
                                        <small>Physics, Chemistry, Botany, Zoology (45 Q each)</small>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-success btn-lg" id="generateBtn">
                            <i class="fas fa-download me-2"></i>
                            Generate & Download OMR Sheet
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Features Section -->
        <div class="row mt-5">
            <div class="col-md-4 mb-4">
                <div class="card h-100 feature-card">
                    <div class="card-body text-center">
                        <i class="fas fa-cogs fa-2x mb-3"></i>
                        <h5 class="fw-bold">Fully Customizable</h5>
                        <p class="text-muted">
                            Configure subjects, questions, and answer options according to your examination needs.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 feature-card">
                    <div class="card-body text-center">
                        <i class="fas fa-file-pdf fa-2x mb-3"></i>
                        <h5 class="fw-bold">Professional Output</h5>
                        <p class="text-muted">
                            High-quality PDF output with proper spacing and professional design for optical scanning.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 feature-card">
                    <div class="card-body text-center">
                        <i class="fas fa-bolt fa-2x mb-3"></i>
                        <h5 class="fw-bold">Instant Generation</h5>
                        <p class="text-muted">
                            Generate and download your OMR sheets instantly with just one click on any device.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Instructions -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    <i class="fas fa-info-circle me-2"></i>
                    Usage Instructions
                </h5>
            </div>
            <div class="card-body">
                <ol>
                    <li><strong>Enter Institution Details:</strong> Provide your school/institution name and exam name.</li>
                    <li><strong>Configure Subjects:</strong> List your subjects separated by commas (max 5 subjects).</li>
                    <li><strong>Set Parameters:</strong> Choose the number of questions per subject and answer options.</li>
                    <li><strong>Add Logo (Optional):</strong> Upload your institution's logo for branding.</li>
                    <li><strong>Generate:</strong> Click the generate button to create and download your PDF.</li>
                </ol>
                
                <div class="alert alert-info mt-3">
                    <i class="fas fa-lightbulb me-2"></i>
                    <strong>Tip:</strong> The generated OMR sheets are optimized for optical scanning and include 
                    candidate information sections, declaration areas, and proper bubble spacing.
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
